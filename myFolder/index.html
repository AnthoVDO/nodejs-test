<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>Nodejs test</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

</head>

<body>
    <h1>hello world</h1>
    <div class="container">
        <form action="/" method='post' id='form'>
            <div class='form-group'>
                <label for="email"> Email address:</label>
                <input type="email" class="form-control" name="email">
            </div>
            <div class="form-group">
                <label for="pwd"> Password:</label>
                <input type="password" class="form-control" name="password">
            </div>
            <button type="submit" class="btn btn-primary ">Submit</button>
        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
        $(document).ready(() => {
            $('#form').submit((e) => { //it's a submit handeler. It will manage the submit form while  the even is triggered
                e.preventDefault(); //If this method is called, the default action of the event will not be triggered. Here, we want to avoid the default action of submit because we are using ajax after
                $.ajax({ // give the possibility to use ajax with jquery. We need to set parameter to send http request
                    url: '/', //which ressource is targeted
                    type: 'post', //post or get ? POST == send info to the server GET == get information to the server
                    content: 'application/json', //how we want to send the information. here it's a json
                    data: JSON.stringify($('#form').serializeArray()), // JSON.stringify() convert a javascript value in JSON chaine //serializeArray is a jquery methode to encode a set of form elements as an array of names and values 
                    //serializeArray will take the form field so email and password and transform them in a javascript array of object

                    success: (response) => { //if we success ?
                        console.log('successfully get response');
                        console.log(response);
                    }
                })
            })
        })
    </script>
</body>

</html>